(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{49:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),r=a.n(c),o=a(16),i=a.n(o),s=(a(49),a(15)),l=a(5),u=a(2),d=a(13),j=a.n(d),b=a(6),p=a(20),O=a.n(p),h=a(25),f=function(e){return{type:"ADD_ZOOM_DATA",payload:e}},m=function(e){return{type:"FETCH_DATA",payload:e}},x=function(e){return{type:"SET_ERRORS",payload:e}},g=function(e){return{type:"SAVE_DATA_EDIT",payload:e}},v=function(e){return{type:"SAVE_DATA_ADD",payload:e}},y=function(e){return{type:"SAVE_ACTION",payload:e}},A=function(e){return{type:"SHOW_ZOOM",payload:e}},N=function(){return function(){var e=Object(h.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat("https://gismap-server.herokuapp.com","/locations"),{headers:{access_token:localStorage.getItem("access_token")}});case 3:return a=e.sent,n=a.data,e.next=7,t(m(n.locations));case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()};var S=function(){var e=Object(l.f)(),t=Object(b.b)(),a=Object(c.useState)(""),r=Object(u.a)(a,2),o=r[0],i=r[1],s=Object(c.useState)(""),d=Object(u.a)(s,2),p=d[0],O=d[1],h=Object(c.useState)(""),f=Object(u.a)(h,2),m=f[0],x=f[1],g=Object(c.useState)(!1),v=Object(u.a)(g,2),y=v[0],A=v[1];return Object(n.jsxs)("div",{className:"container login",children:[Object(n.jsx)("h1",{children:"Login"}),Object(n.jsxs)("form",{onSubmit:function(a){a.preventDefault(),o&&p?j.a.post("".concat("https://gismap-server.herokuapp.com","/login"),{data:{email:o,password:p}}).then((function(a){var n=a.data.access_token;localStorage.setItem("access_token",n),t(N()),e.push("/dashboard")})).catch((function(e){A(!0),e.response.data.message&&x(e.response.data.message)})):(A(!0),x("*email dan password harus diisi !"))},children:[Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"Email address"}),Object(n.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:function(e){return i(e.target.value)},value:o})]}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{className:"form-label",children:"Password"}),Object(n.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:function(e){return O(e.target.value)},value:p})]}),Object(n.jsx)("button",{type:"submit",className:"btn",children:"Submit"})]}),y&&Object(n.jsx)("p",{style:{color:"red"},children:m})]})};var D=function(){var e=Object(b.c)((function(e){return e})),t=e.dataEdit,a=e.errors,r=Object(b.b)(),o=Object(l.f)(),i=Object(c.useState)(t.name),s=Object(u.a)(i,2),d=s[0],p=s[1],O=Object(c.useState)(t.city),h=Object(u.a)(O,2),f=h[0],m=h[1],v=Object(c.useState)(t.province),S=Object(u.a)(v,2),D=S[0],E=S[1],k=Object(c.useState)(t.latitude),w=Object(u.a)(k,2),C=w[0],T=w[1],L=Object(c.useState)(t.longitude),I=Object(u.a)(L,2),z=I[0],P=I[1],R=Object(c.useState)(),H=Object(u.a)(R,2),F=H[0],U=H[1];return Object(n.jsxs)("form",{className:"add-form",style:{display:F},onSubmit:function(e){e.preventDefault();var a={name:d,city:f,province:D,latitude:C,longitude:z};a&&j.a.put("".concat("https://gismap-server.herokuapp.com","/locations/").concat(t.id),{data:{data:a},headers:{access_token:localStorage.getItem("access_token")}}).then((function(e){r(N()),r(A(!1)),U("none"),r(y(null)),r(g({name:"",city:"",province:"",latitude:-.789275,longitude:113.921327})),o.push("/dashboard")})).catch((function(e){r(x(e.response.data.message))}))},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Label"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput",placeholder:"Label",onChange:function(e){return p(e.target.value)},value:d})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Kota/Kabupaten"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Kota/Kabupaten",onChange:function(e){return m(e.target.value)},value:f})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Profinsi"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Profinsi",onChange:function(e){return E(e.target.value)},value:D})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Latitude"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Latitude",onChange:function(e){return T(e.target.value)},value:C})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Longitude"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Longitude",onChange:function(e){return P(e.target.value)},value:z})]}),Object(n.jsx)("button",{type:"submit",children:"Edit"}),Object(n.jsx)("button",{type:"submit",onClick:function(){return r(A(!1)),void r(y(""))},style:{marginLeft:"20px"},children:"Cancel"}),a&&Object(n.jsxs)("p",{style:{color:"red",marginBottom:"5px"},children:["*",a,", "]})]})},E=a(14),k=a.n(E),w=a(41),C=a(77),T=a(81),L=a(78),I=a(79),z=a(80),P=k.a.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",iconSize:[25,41],iconAnchor:[12.5,41],popupAnchor:[0,-41]});function R(){var e=Object(b.b)();Object(w.b)({click:function(t){var a=t.latlng;e(v({name:"",city:"",province:"",latitude:a.lat,longitude:a.lng}))},locationfound:function(t){var a=t.latlng;e(v({name:"",city:"",province:"",latitude:a.lat,longitude:a.lng}))}});return null}var H=function(e){var t,a=e.isShow,c=e.showData,r=Object(b.c)((function(e){return e})),o=r.allData,i=r.whatAction,s=[-.789275,113.921327];return a&&(t=[c.latitude,c.longitude]),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(C.a,{style:{width:"edit"!==i&&"100%"},className:"map",center:s,zoom:5,scrollWheelZoom:!0,children:[Object(n.jsx)(T.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o&&o.map((function(e){return Object(n.jsx)(L.a,{position:[e.latitude,e.longitude],icon:P,children:Object(n.jsx)(I.a,{children:e.city})},e.id)})),a?Object(n.jsx)(z.a,{children:function(e){return e.flyTo(t,9),null}}):Object(n.jsx)(z.a,{children:function(e){return e.flyTo(s,5),null}}),Object(n.jsx)(R,{})]})})};var F=function(){var e=Object(l.f)(),t=Object(b.c)((function(e){return e})),a=t.allData,r=t.whatAction,o=t.isShowZoom,i=t.zoomData,d=Object(c.useState)("Filter"),p=Object(u.a)(d,2),O=p[0],h=p[1],v=Object(b.b)(),S=Object(c.useState)(),E=Object(u.a)(S,2),k=E[0],w=E[1],C=Object(c.useState)(),T=Object(u.a)(C,2),L=T[0],I=T[1],z=Object(c.useState)([]),P=Object(u.a)(z,2),R=P[0],F=P[1],U=Object(c.useState)(!1),B=Object(u.a)(U,2),K=B[0],W=B[1];function M(e){j.a.delete("".concat("https://gismap-server.herokuapp.com","/locations/").concat(e),{headers:{access_token:localStorage.getItem("access_token")}}).then((function(e){v(N())})).catch((function(e){}))}function G(e){v(g(e)),v(y("edit")),v(f(e)),v(A(!0)),v(x(null))}function Z(e){v(f(e)),v(A(!0))}return Object(c.useEffect)((function(){v(N()),k||I(!1)}),[k,v]),Object(n.jsxs)("div",{className:"container-fluid dashboard",children:["edit"!==r&&Object(n.jsx)(s.b,{to:"/add",children:Object(n.jsx)("button",{style:{margin:"20px 60px"},children:"Add Location"})}),Object(n.jsx)("button",{style:{marginTop:"20px",marginLeft:"900px"},onClick:function(){localStorage.clear(),e.push("/login")},children:"Log Out"}),Object(n.jsxs)("div",{className:"container container-top",children:[Object(n.jsx)(H,{dataPoints:a,showData:i,isShow:o}),"edit"===r&&Object(n.jsx)(D,{})]}),Object(n.jsxs)("div",{className:"container container-bottom",children:[Object(n.jsxs)("div",{className:"container filter",children:[Object(n.jsxs)("select",{id:"filter",value:O,onChange:function(e){return function(e){if(e.preventDefault(),h(e.target.value),"Descending"===e.target.value){var t=a.sort().reverse();v(m(t))}else v(N())}(e)},children:[Object(n.jsx)("option",{value:"",children:"Filter "}),Object(n.jsx)("option",{value:"Descending",children:"Descending"}),Object(n.jsx)("option",{value:"Ascending",children:"Ascending"})]}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),W(!0);var t=a.filter((function(e){return e.name.toUpperCase()===k.toUpperCase()}));t.length>1||1===t.length?(F(t),I(!1)):(I(!0),w(""),v(N()),W(!1))},children:[Object(n.jsx)("input",{type:"text",placeholder:"Search here",onChange:function(e){return w(e.target.value)}}),Object(n.jsx)("button",{type:"submit",children:Object(n.jsx)("i",{className:"fa fa-search"})})]})]}),L&&Object(n.jsx)("p",{style:{color:"blue"},children:"...Tidak ditemukan..."}),Object(n.jsxs)("table",{className:"table table-hover",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Label"}),Object(n.jsx)("th",{scope:"col",children:"Kota/Kab"}),Object(n.jsx)("th",{scope:"col",children:"Provinsi"}),Object(n.jsx)("th",{scope:"col",children:"Latitude"}),Object(n.jsx)("th",{scope:"col",children:"Longitude"}),Object(n.jsx)("th",{scope:"col",children:"Action"})]})}),Object(n.jsxs)("tbody",{children:[K&&R&&R.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:e.city}),Object(n.jsx)("td",{children:e.province}),Object(n.jsx)("td",{children:e.latitude}),Object(n.jsx)("td",{children:e.longitude}),Object(n.jsxs)("td",{children:["edit"!==r&&Object(n.jsx)("i",{style:{marginRight:"10px"},className:"fa fa-pencil fa-2x","aria-hidden":"true",onClick:function(){return G(e)}}),Object(n.jsx)("i",{className:"fa fa-trash-o fa-2x","aria-hidden":"true",onClick:function(){return M(e.id)}}),Object(n.jsx)("i",{className:"fa fa-eye fa-2x","aria-hidden":"true",onClick:function(){return Z(e)},style:{marginLeft:"10px"}})]})]},e.id)})),!K&&a&&a.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:e.city}),Object(n.jsx)("td",{children:e.province}),Object(n.jsx)("td",{children:e.latitude}),Object(n.jsx)("td",{children:e.longitude}),Object(n.jsxs)("td",{children:["edit"!==r&&Object(n.jsx)("i",{style:{marginRight:"10px"},className:"fa fa-pencil fa-2x","aria-hidden":"true",onClick:function(){return G(e)}}),Object(n.jsx)("i",{className:"fa fa-trash-o fa-2x","aria-hidden":"true",onClick:function(){return M(e.id)}}),Object(n.jsx)("i",{className:"fa fa-eye fa-2x","aria-hidden":"true",onClick:function(){return Z(e)},style:{marginLeft:"10px"}})]})]},e.id)}))]})]})]})]})};var U=function(){var e=Object(b.c)((function(e){return e})).dataAdd,t=Object(b.b)(),a=Object(l.f)(),r=Object(c.useState)(e.name),o=Object(u.a)(r,2),i=o[0],s=o[1],d=Object(c.useState)(e.city),p=Object(u.a)(d,2),O=p[0],h=p[1],f=Object(c.useState)(e.province),m=Object(u.a)(f,2),g=m[0],v=m[1],y=Object(c.useState)(e.latitude),S=Object(u.a)(y,2),D=S[0],E=S[1],k=Object(c.useState)(e.longitude),w=Object(u.a)(k,2),C=w[0],T=w[1],L=Object(c.useState)(),I=Object(u.a)(L,2),z=I[0],P=I[1];return Object(c.useEffect)((function(){t(N()),E(e.latitude),T(e.longitude)}),[e.latitude,e.longitude,t]),Object(n.jsxs)("div",{className:"container container-top",children:[Object(n.jsx)(H,{}),Object(n.jsxs)("form",{className:"add-form",onSubmit:function(e){e.preventDefault();var n={name:i,city:O,province:g,latitude:D,longitude:C};n&&j.a.post("".concat("https://gismap-server.herokuapp.com","/locations"),{data:n,headers:{access_token:localStorage.getItem("access_token")}}).then((function(e){t(N()),t(A(!1)),a.push("/dashboard")})).catch((function(e){t(x(e.response.data.message)),P(e.response.data.message)}))},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Label"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput",placeholder:"Label",onChange:function(e){return s(e.target.value)},value:i})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Kota/Kabupaten"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Kota/Kabupaten",onChange:function(e){return h(e.target.value)},value:O})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Profinsi"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Profinsi",onChange:function(e){return v(e.target.value)},value:g})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Latitude"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Latitude",onChange:function(e){return E(e.target.value)},value:D})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Longitude"}),Object(n.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Longitude",onChange:function(e){return T(e.target.value)},value:C})]}),Object(n.jsx)("button",{type:"submit",children:"Add"}),Object(n.jsx)("button",{type:"submit",onClick:function(){return t(A(!1)),void a.push("/dashboard")},style:{marginLeft:"20px"},children:"Cancel"}),z&&Object(n.jsxs)("p",{style:{color:"red",marginBottom:"5px"},children:["*",z,", "]})]})]})};var B=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(s.a,{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/add",component:U}),Object(n.jsx)(l.a,{path:"/dashboard",component:F}),Object(n.jsx)(l.a,{path:"/",component:S})]})})})},K=a(22),W=a(42),M=a(4),G={zoomData:{name:"",city:"",province:"",latitude:-.789275,longitude:113.921327},allData:null,dataEdit:{name:"",city:"",province:"",latitude:-.789275,longitude:113.921327},dataAdd:{name:"",city:"",province:"",latitude:-.789275,longitude:113.921327},displayForms:"",whatAction:null,errors:null,isShowZoom:!1};var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ZOOM_DATA":return Object(M.a)(Object(M.a)({},e),{},{zoomData:t.payload});case"FETCH_DATA":return Object(M.a)(Object(M.a)({},e),{},{allData:t.payload});case"SAVE_DATA_EDIT":return Object(M.a)(Object(M.a)({},e),{},{dataEdit:t.payload});case"SAVE_DATA_ADD":return Object(M.a)(Object(M.a)({},e),{},{dataAdd:t.payload});case"SAVE_DISPLAY_FORM":return Object(M.a)(Object(M.a)({},e),{},{displayForms:t.payload});case"SAVE_ACTION":return Object(M.a)(Object(M.a)({},e),{},{whatAction:t.payload});case"SET_ERRORS":return Object(M.a)(Object(M.a)({},e),{},{errors:t.payload});case"SHOW_ZOOM":return Object(M.a)(Object(M.a)({},e),{},{isShowZoom:t.payload});default:return e}},_=function(e){return function(e){return function(){var t=Object(h.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},q=Object(K.c)(Z,Object(K.a)(_,W.a));a(74);i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(b.a,{store:q,children:Object(n.jsx)(B,{})})}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.085c283e.chunk.js.map