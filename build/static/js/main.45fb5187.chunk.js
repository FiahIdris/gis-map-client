(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{48:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),r=a.n(n),o=a(16),s=a.n(o),i=(a(48),a(15)),l=a(4),u=a(2),d=a(13),j=a.n(d),b=a(6),p=a(20),O=a.n(p),h=a(25),f=function(e){return{type:"FETCH_DATA",payload:e}},m=function(e){return{type:"SET_ERRORS",payload:e}},x=function(e){return{type:"SAVE_DATA_EDIT",payload:e}},g=function(e){return{type:"SAVE_DATA_ADD",payload:e}},v=function(e){return{type:"SAVE_ACTION",payload:e}},A=function(){return function(){var e=Object(h.a)(O.a.mark((function e(t){var a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("".concat("http://localhost:3000","/locations"),{headers:{access_token:localStorage.getItem("access_token")}});case 3:return a=e.sent,c=a.data,console.log(c,"===="),e.next=8,t(f(c.locations));case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()};var y=function(){var e=Object(l.f)(),t=Object(b.b)(),a=Object(n.useState)(""),r=Object(u.a)(a,2),o=r[0],s=r[1],i=Object(n.useState)(""),d=Object(u.a)(i,2),p=d[0],O=d[1],h=Object(n.useState)(""),f=Object(u.a)(h,2),m=f[0],x=f[1],g=Object(n.useState)(!1),v=Object(u.a)(g,2),y=v[0],N=v[1];return Object(c.jsxs)("div",{className:"container login",children:[Object(c.jsx)("h1",{children:"Login"}),Object(c.jsxs)("form",{onSubmit:function(a){a.preventDefault(),o&&p?j.a.post("".concat("http://localhost:3000","/login"),{data:{email:o,password:p}}).then((function(a){var c=a.data.access_token;localStorage.setItem("access_token",c),t(A()),e.push("/dashboard")})).catch((function(e){N(!0),console.log(e),e.response.data.message&&(x(e.response.data.message),console.log(e.response.data.message))})):(N(!0),x("*email dan password harus diisi !"))},children:[Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{className:"form-label",children:"Email address"}),Object(c.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:function(e){return s(e.target.value)},value:o})]}),Object(c.jsxs)("div",{className:"mb-3",children:[Object(c.jsx)("label",{className:"form-label",children:"Password"}),Object(c.jsx)("input",{type:"password",className:"form-control",id:"exampleInputPassword1",onChange:function(e){return O(e.target.value)},value:p})]}),Object(c.jsx)("button",{type:"submit",className:"btn",children:"Submit"})]}),y&&Object(c.jsx)("p",{style:{color:"red"},children:m})]})};var N=function(){var e=Object(b.c)((function(e){return e})),t=e.dataEdit,a=e.errors,r=Object(b.b)(),o=Object(n.useState)(t.name),s=Object(u.a)(o,2),i=s[0],l=s[1],d=Object(n.useState)(t.city),p=Object(u.a)(d,2),O=p[0],h=p[1],f=Object(n.useState)(t.province),g=Object(u.a)(f,2),y=g[0],N=g[1],S=Object(n.useState)(t.latitude),E=Object(u.a)(S,2),D=E[0],C=E[1],k=Object(n.useState)(t.longitude),w=Object(u.a)(k,2),L=w[0],T=w[1],I=Object(n.useState)(),P=Object(u.a)(I,2),R=P[0],z=P[1],H=Object(n.useState)(),U=Object(u.a)(H,2),F=(U[0],U[1]);return Object(c.jsxs)("form",{className:"add-form",style:{display:R},onSubmit:function(e){e.preventDefault();var a={name:i,city:O,province:y,latitude:D,longitude:L};a&&j.a.put("".concat("http://localhost:3000","/locations/").concat(t.id),{data:{data:a},headers:{access_token:localStorage.getItem("access_token")}}).then((function(e){r(A()),z("none"),r(v(null)),r(x({name:"",city:"",province:"",latitude:-.789275,longitude:113.921327}))})).catch((function(e){r(m(e.response.data.message)),F(e.response.data.message)}))},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Label"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput",placeholder:"Label",onChange:function(e){return l(e.target.value)},value:i})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Kota/Kabupaten"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Kota/Kabupaten",onChange:function(e){return h(e.target.value)},value:O})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Profinsi"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Profinsi",onChange:function(e){return N(e.target.value)},value:y})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Latitude"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Latitude",onChange:function(e){return C(e.target.value)},value:D})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Longitude"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Longitude",onChange:function(e){return T(e.target.value)},value:L})]}),Object(c.jsx)("button",{type:"submit",children:"Edit"}),Object(c.jsx)("button",{type:"submit",onClick:function(){r(v(""))},style:{marginLeft:"20px"},children:"Cancel"}),a&&Object(c.jsxs)("p",{style:{color:"red",marginBottom:"5px"},children:["*",a,", "]})]})},S=a(14),E=a.n(S),D=a(76),C=a(77),k=a(80),w=a(78),L=a(79),T=E.a.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",iconSize:[25,41],iconAnchor:[12.5,41],popupAnchor:[0,-41]});function I(){var e=Object(b.b)();Object(D.a)({click:function(t){var a=t.latlng;e(g({name:"",city:"",province:"",latitude:a.lat,longitude:a.lng}))},locationfound:function(t){var a=t.latlng;e(g({name:"",city:"",province:"",latitude:a.lat,longitude:a.lng}))}});return null}var P=function(){var e=Object(b.c)((function(e){return e})),t=e.allData,a=e.whatAction;return Object(c.jsxs)(C.a,{style:{width:"edit"!==a&&"100%"},className:"map",center:[-.789275,113.921327],zoom:5,scrollWheelZoom:!0,children:[Object(c.jsx)(k.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t&&t.map((function(e){return Object(c.jsx)(w.a,{position:[e.latitude,e.longitude],icon:T,children:Object(c.jsx)(L.a,{children:e.city})},e.id)})),Object(c.jsx)(I,{})]})};var R=function(){var e=Object(l.f)(),t=Object(b.c)((function(e){return e})),a=t.allData,r=t.whatAction,o=Object(n.useState)("Filter"),s=Object(u.a)(o,2),d=s[0],p=s[1],O=Object(b.b)(),h=Object(n.useState)(),g=Object(u.a)(h,2),y=g[0],S=g[1],E=Object(n.useState)(),D=Object(u.a)(E,2),C=D[0],k=D[1],w=Object(n.useState)([]),L=Object(u.a)(w,2),T=L[0],I=L[1],R=Object(n.useState)(!1),z=Object(u.a)(R,2),H=z[0],U=z[1];function F(e){j.a.delete("".concat("http://localhost:3000","/locations/").concat(e),{headers:{access_token:localStorage.getItem("access_token")}}).then((function(e){O(A())})).catch((function(e){}))}function B(e){O(x(e)),O(v("edit")),O(m(null))}return Object(n.useEffect)((function(){O(A()),y||k(!1)}),[O,y]),Object(c.jsxs)("div",{className:"container-fluid dashboard",children:["edit"!==r&&Object(c.jsx)(i.b,{to:"/add",children:Object(c.jsx)("button",{style:{margin:"20px 60px"},children:"Add Location"})}),Object(c.jsx)("button",{style:{marginTop:"20px",marginLeft:"900px"},onClick:function(){localStorage.clear(),e.push("/login")},children:"Log Out"}),Object(c.jsxs)("div",{className:"container container-top",children:[Object(c.jsx)(P,{dataPoints:a}),"edit"===r&&Object(c.jsx)(N,{})]}),Object(c.jsxs)("div",{className:"container container-bottom",children:[Object(c.jsxs)("div",{className:"container filter",children:[Object(c.jsxs)("select",{id:"filter",value:d,onChange:function(e){return function(e){if(e.preventDefault(),p(e.target.value),"Descending"===e.target.value){var t=a.sort().reverse();O(f(t))}else O(A())}(e)},children:[Object(c.jsx)("option",{value:"",children:"Filter "}),Object(c.jsx)("option",{value:"Descending",children:"Descending"}),Object(c.jsx)("option",{value:"Ascending",children:"Ascending"})]}),Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),U(!0),k(!1);var t=a.filter((function(e){return e.name.toUpperCase()===y.toUpperCase()}));t.length>1||1===t.length?I(t):(S(""),O(A()),k(!0),U(!1))},children:[Object(c.jsx)("input",{type:"text",placeholder:"Search here",onChange:function(e){return S(e.target.value)}}),Object(c.jsx)("button",{type:"submit",children:Object(c.jsx)("i",{className:"fa fa-search"})})]})]}),C&&Object(c.jsx)("p",{children:"...Tidak ditemukan..."}),Object(c.jsxs)("table",{className:"table table-hover",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Label"}),Object(c.jsx)("th",{scope:"col",children:"Kota/Kab"}),Object(c.jsx)("th",{scope:"col",children:"Provinsi"}),Object(c.jsx)("th",{scope:"col",children:"Latitude"}),Object(c.jsx)("th",{scope:"col",children:"Longitude"}),Object(c.jsx)("th",{scope:"col",children:"Action"})]})}),Object(c.jsxs)("tbody",{children:[H&&T&&T.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.city}),Object(c.jsx)("td",{children:e.province}),Object(c.jsx)("td",{children:e.latitude}),Object(c.jsx)("td",{children:e.longitude}),Object(c.jsxs)("td",{children:["edit"!==r&&Object(c.jsx)("i",{style:{marginRight:"10px"},className:"fa fa-pencil fa-2x","aria-hidden":"true",onClick:function(){return B(e)}}),Object(c.jsx)("i",{className:"fa fa-trash-o fa-2x","aria-hidden":"true",onClick:function(){return F(e.id)}})]})]},e.id)})),!H&&a&&a.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.city}),Object(c.jsx)("td",{children:e.province}),Object(c.jsx)("td",{children:e.latitude}),Object(c.jsx)("td",{children:e.longitude}),Object(c.jsxs)("td",{children:["edit"!==r&&Object(c.jsx)("i",{style:{marginRight:"10px"},className:"fa fa-pencil fa-2x","aria-hidden":"true",onClick:function(){return B(e)}}),Object(c.jsx)("i",{className:"fa fa-trash-o fa-2x","aria-hidden":"true",onClick:function(){return F(e.id)}})]})]},e.id)}))]})]})]})]})};var z=function(){var e=Object(b.c)((function(e){return e})).dataAdd,t=Object(b.b)(),a=Object(l.f)(),r=Object(n.useState)(e.name),o=Object(u.a)(r,2),s=o[0],i=o[1],d=Object(n.useState)(e.city),p=Object(u.a)(d,2),O=p[0],h=p[1],f=Object(n.useState)(e.province),x=Object(u.a)(f,2),g=x[0],v=x[1],y=Object(n.useState)(e.latitude),N=Object(u.a)(y,2),S=N[0],E=N[1],D=Object(n.useState)(e.longitude),C=Object(u.a)(D,2),k=C[0],w=C[1],L=Object(n.useState)(),T=Object(u.a)(L,2),I=T[0],R=T[1];return Object(n.useEffect)((function(){t(A()),E(e.latitude),w(e.longitude)}),[e.latitude,e.longitude,t]),Object(c.jsxs)("div",{className:"container container-top",children:[Object(c.jsx)(P,{}),Object(c.jsxs)("form",{className:"add-form",onSubmit:function(e){e.preventDefault();var c={name:s,city:O,province:g,latitude:S,longitude:k};c&&j.a.post("".concat("http://localhost:3000","/locations"),{data:c,headers:{access_token:localStorage.getItem("access_token")}}).then((function(e){t(A()),a.push("/dashboard")})).catch((function(e){t(m(e.response.data.message)),R(e.response.data.message)}))},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Label"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput",placeholder:"Label",onChange:function(e){return i(e.target.value)},value:s})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Kota/Kabupaten"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Kota/Kabupaten",onChange:function(e){return h(e.target.value)},value:O})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Profinsi"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Profinsi",onChange:function(e){return v(e.target.value)},value:g})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Latitude"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Latitude",onChange:function(e){return E(e.target.value)},value:S})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{children:"Longitude"}),Object(c.jsx)("input",{type:"text",className:"form-control",id:"formGroupExampleInput2",placeholder:"Longitude",onChange:function(e){return w(e.target.value)},value:k})]}),Object(c.jsx)("button",{type:"submit",children:"Add"}),Object(c.jsx)("button",{type:"submit",onClick:function(){a.push("/dashboard")},style:{marginLeft:"20px"},children:"Cancel"}),I&&Object(c.jsxs)("p",{style:{color:"red",marginBottom:"5px"},children:["*",I,", "]})]})]})};var H=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(i.a,{children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{path:"/add",component:z}),Object(c.jsx)(l.a,{path:"/dashboard",component:R}),Object(c.jsx)(l.a,{path:"/",component:y})]})})})},U=a(22),F=a(41),B=a(5),K={newData:{name:"",city:"",province:"",latitude:-.789275,longitude:113.921327},allData:null,dataEdit:{name:"",city:"",province:"",latitude:-.789275,longitude:113.921327},dataAdd:{name:"",city:"",province:"",latitude:-.789275,longitude:113.921327},displayForms:"",whatAction:null,errors:null};var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NEW_DATA":return Object(B.a)(Object(B.a)({},e),{},{newData:t.payload});case"FETCH_DATA":return Object(B.a)(Object(B.a)({},e),{},{allData:t.payload});case"SAVE_DATA_EDIT":return Object(B.a)(Object(B.a)({},e),{},{dataEdit:t.payload});case"SAVE_DATA_ADD":return Object(B.a)(Object(B.a)({},e),{},{dataAdd:t.payload});case"SAVE_DISPLAY_FORM":return Object(B.a)(Object(B.a)({},e),{},{displayForms:t.payload});case"SAVE_ACTION":return Object(B.a)(Object(B.a)({},e),{},{whatAction:t.payload});case"SET_ERRORS":return Object(B.a)(Object(B.a)({},e),{},{errors:t.payload});default:return e}},G=function(e){return function(e){return function(){var t=Object(h.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(a);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},q=Object(U.c)(W,Object(U.a)(G,F.a));a(73);s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(b.a,{store:q,children:Object(c.jsx)(H,{})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.45fb5187.chunk.js.map